<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Text Decoder</title>
  <style>
    body { font-family: Arial, sans-serif; background: #0b0f14; color: #e6edf3; margin: 0; padding: 20px; text-align: center; }
    textarea { width: 90%; max-width: 600px; height: 120px; margin: 10px auto; display: block; background: #121821; color: #e6edf3; border: 1px solid #263345; border-radius: 8px; padding: 10px; }
    button { margin: 8px; padding: 10px 20px; border: none; border-radius: 6px; cursor: pointer; font-weight: bold; }
    .encode { background: #22c55e; color: #0b0f14; }
    .decode { background: #3b82f6; color: #fff; }
  </style>
</head>
<body>
  <h2>Language  Encoder / Decoder</h2>
  <textarea id="input" placeholder="Type text here..."></textarea>
  <div>
    <button class="encode" onclick="run('encode')">Encode</button>
    <button class="decode" onclick="run('decode')">Decode</button>
  </div>
  <textarea id="output" placeholder="Result..." readonly></textarea>

  <script>
    function atbashChar(code, isUpper){
      const base = isUpper ? 65 : 97;
      return base + (25 - (code - base));
    }
    function caesarChar(code, isUpper, shift){
      const base = isUpper ? 65 : 97;
      return base + (((code - base + shift) % 26 + 26) % 26);
    }
    function transform(text, mode){
      const stepEncode = (ch) => {
        const code = ch.charCodeAt(0);
        const isUpper = ch >= 'A' && ch <= 'Z';
        const isLower = ch >= 'a' && ch <= 'z';
        if(!isUpper && !isLower) return ch;
        const up = isUpper || (!isUpper && !isLower);
        const afterAtbash = atbashChar(code, isUpper);
        const afterShift = caesarChar(afterAtbash, isUpper, -19);
        return String.fromCharCode(afterShift);
      };
      const stepDecode = (ch) => {
        const code = ch.charCodeAt(0);
        const isUpper = ch >= 'A' && ch <= 'Z';
        const isLower = ch >= 'a' && ch <= 'z';
        if(!isUpper && !isLower) return ch;
        const afterShift = caesarChar(code, isUpper, +19);
        const afterAtbash = atbashChar(afterShift, isUpper);
        return String.fromCharCode(afterAtbash);
      };
      const fn = mode === 'decode' ? stepDecode : stepEncode;
      return Array.from(text).map(fn).join('');
    }
    function run(mode){
      const inp = document.getElementById('input').value;
      document.getElementById('output').value = transform(inp, mode);
    }
  </script>
</body>
</html>

